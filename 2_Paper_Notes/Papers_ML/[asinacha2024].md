# Selecting fast algorithms for the capacitated vehicle routing problem with machine learning techniques

## Metadata
- **Link to PDF**: [[[asinacha2024]_Selecting_fast_algorithms_for_the_capacitated_vehicle_routing_problem_with_machine_learning_techniques.pdf]]
- **Tags**: 
  - #CVRP 
  - #DeterministicVRP 
  - #ML-Supervised 
  - #ML-AssistedHeuristics
  - #RandomForestPredictor
  - #DecisionTreeML
  - #GeneticAlgorithm
  - #LocalSearchHeuristics
  - #VRPBenchmarks
  - #AlgorithmSelection  (see “Debug & Action Items”)
- **Relevant**: true  
- **Fit Score**: 10  
- **State of the Art (SoA) Concepts**:
  - Automatic algorithm selection and configuration
  - Supervised learning with Random Forest, Gradient Boosting, k-NN, AdaBoost
  - Genetic Algorithm (Hybrid Genetic Search)
  - Clarke and Wright heuristic, Sweep heuristic
  - CVRPLIB benchmarks
- **Performance Evaluation**: yes  
- **Performance Evaluation Framework**: CVRPLIB (A, B, P, E, F, M, CMT, Golden, Li, Uchoa, AGS), plus synthetic data from TSP generators (NETGEN, NETGENM, TSPGEN)

## Abstract
“We present machine learning (ML) methods for automatically selecting a ‘best’ performing fast algorithm for the capacitated vehicle routing problem (CVRP) with unit demands. Algorithm selection is to automatically choose among a portfolio of algorithms the one that is predicted to work best for a given problem instance, and algorithm configuration is to automatically select algorithm’s parameters that are predicted to work best for a given problem instance. We present a framework incorporating both algorithm selection and configuration for a portfolio that includes the automatically configured ‘Sweep Algorithm,’ the first generated feasible solution of the hybrid genetic search algorithm, and the Clarke and Wright algorithm. The automatically selected algorithm is shown here to deliver high-quality feasible solutions within very small running times making it highly suitable for real-time applications and for generating initial feasible solutions for global optimization methods for CVRP. These results bode well to the effectiveness of utilizing ML for improving combinatorial optimization methods.”

## Summary
- **Core Goal & Context**  
  - Addresses the Capacitated Vehicle Routing Problem (CVRP) with unit demands, focusing on generating feasible solutions extremely quickly.  
  - Explores a **machine learning-based “meta-solver”** that combines algorithm selection with parameter configuration.  
  - Intended use cases: real-time routing needs and generation of high-quality initial solutions for large-scale optimization.

- **Methodology**  
  - **Portfolio of Algorithms**:  
    1. **Hybrid Genetic Search (HGS)**: They use only the first feasible solution generated by a GA-based solver.  
    2. **Clarke & Wright (CW)** heuristic: A classic savings-based heuristic implemented in FILO CVRP solver.  
    3. **Meta-Sweep-Algorithm (MSA)**: A configurable variant of the Sweep Algorithm. The key parameter is a radius threshold `r`, controlling how customers are grouped into “close” vs. “far” clusters before the final TSP sub-route is solved.  
  - **Algorithm Configuration**:  
    - Focused on automatically tuning the radius parameter `r` in the Sweep heuristic. They discretize `r` into 100 possible values in [0,1].  
    - A regression model (Gradient Boosting) predicts solution quality for each potential `r`, selecting the best (or a small set of top) parameter(s).  
  - **Algorithm Selection**:  
    - A separate classification model (Random Forest) picks which algorithm (MSA, CW, or HGS) is likely best for a given instance, based on instance features.  
  - **Features & Instance Characterization**:  
    - Number of customers, truck capacity, distances from the depot to the customer centroid, and distribution-based descriptors (e.g., fraction of customers in concentric circles around the depot).  
    - The label for training is the best-performing algorithm or best parameter among the portfolio for each instance.

- **Experimental Setup**  
  - **Training Data**: Synthetic TSP instances from three generators (NETGEN, NETGENM, TSPGEN), converted to CVRP by assigning capacities and selecting a depot. ~18,000 total training instances.  
  - **Testing Data**: Standard CVRPLIB sets (A, B, P, E, F, M, CMT, Li, Uchoa, Golden, AGS), each adapted to unit demands.  
  - They compare single best solver (SBS), the “virtual best solver” (VBS), and the proposed hierarchical meta-solver (HMS).

- **Results & Findings**  
  - **MSA** alone performs well across many benchmarks, often beating Clarke–Wright and matching or approaching HGS on most small/medium instances.  
  - For large instances (like AGS with 12k+ customers), HGS can be significantly slower. MSA and CW are much faster, making them suitable for quick solutions.  
  - The **Hierarchical Meta-Solver (HMS)**, which selects among HGS, CW, or a multi-parameter variant of MSA, yields solutions that are on average only ~1% above the portfolio’s best solution (VBS). This significantly outperforms any single solver choice, including MSA alone.  
  - Random Forest was the best classifier for algorithm selection; Gradient Boosting for parameter configuration.  
  - Training on synthetic data still generalizes reasonably well to standard benchmarks.  
  - Running time for the meta-solver’s prediction is negligible, ensuring real-time feasibility.

- **Strengths & Contributions**  
  - Demonstrates a **successful two-level approach** for ML-based algorithm selection plus parameter tuning.  
  - Delivers robust, near-best solutions quickly, thus well-suited to real-time or large-scale scenarios.  
  - Proposes a flexible framework where new heuristics or additional parameters could be integrated without retraining the entire system.

- **Weaknesses & Limitations**  
  - The performance improvement is smaller for certain specific benchmarks (e.g., Li with stylized instance geometry).  
  - When multiple algorithms produce similar results, the classifier’s mistakes have less overall impact; this can mask potential suboptimal label predictions.  
  - Only focuses on a single CVRP variant (unit demands) and does not explore time windows or other constraints.

- **Relevance to Deterministic VRP Research**  
  - Clearly fits into **deterministic CVRP** with exact known demands.  
  - Showcases that ML-based heuristics can meaningfully shorten or improve solution methods for VRP.  
  - Reinforces the synergy of combining **fast classical heuristics + ML** to guide solver choices.  

- **Conclusions**  
  - ML can empower portfolio-based approaches to quickly deliver high-quality solutions in complex routing scenarios.  
  - Future work might integrate exact methods, local search, or broader time-limits for iterative improvement.  
  - This confirms that data-driven selection/tuning is beneficial and widely generalizable for deterministic VRPs.

